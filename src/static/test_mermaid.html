<!DOCTYPE html>
<html>
<head>
    <title>Mermaid Test</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.9.0/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: false });

        async function testRender() {
            try {
                const code = `graph TB
    User[External User]
    App[Application]
    DB[(Database)]
    User -->|Request| App
    App -->|Query| DB`;

                const { svg } = await mermaid.render('test-diagram', code);
                document.getElementById('output').innerHTML = svg;
                document.getElementById('status').textContent = '✅ SUCCESS';
                document.getElementById('status').style.color = 'green';
            } catch (error) {
                document.getElementById('status').textContent = '❌ ERROR: ' + error.message;
                document.getElementById('status').style.color = 'red';
                console.error('Full error:', error);
            }
        }
    </script>
</head>
<body>
    <h1>Mermaid.js Test</h1>
    <button onclick="testRender()">Test Render</button>
    <h2 id="status">Not run yet</h2>
    <div id="output"></div>
</body>
</html>
